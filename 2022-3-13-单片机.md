title : 单片机

# 实验一 ：流水灯控制发光管
## 学习目的 ：IO口的控制

### 点亮一个发光管 （实验箱共阴极接法，高电平为点亮灯）
参考代码1：
```c
#include<reg51.h>
 void main()
 { 
   P1=0X01; 
 }
```
参考代码2：
```c
#include<reg51.h>
sbit D2=P1^2;  //sbit 为特殊功能位声明
void main()
{
 D2=1;
}
```

### 发光管闪烁
参考代码1：
```c
#include<reg51.h>
sbit d1=P1^0;
unsigned int a;
void main()
{

  while(1)
  {
    a=50000;
    d1=0;  //灯灭
    while(a--);//a从50000自减到0时，跳出循环
    a=50000;
    d1=1;
    while(a--);
    d1=0;
  }
 }
```
参考程序2
```c
#include<reg51.h>
sbit d1=P1^0;
void delay();
void main()
{
  while(1)
  {
  d1=1;
  delay();
  d1=0;
  delay();
  d1=1;
  }
}

void delay()
{
  int x,y;
  for(x=100;x>0;x--)
  for(y=600;y>0;y--);
```


